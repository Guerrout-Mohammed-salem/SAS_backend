{"version":3,"sources":["views/attendance/Attendance_QR.js"],"names":["Attendance_QR","useState","id","name","role","status","image","user","setUser","lg","delay","onError","err","console","error","onScan","data","axios","get","API","headers","Authorization","JSON","parse","localStorage","getItem","token","then","result","employee","_id","nom","prenom","poste","catch","log","style","height","width","rounded","thumbnail","src","className"],"mappings":"+QA6GeA,UAtGO,WAEpB,MAA4BC,mBAAS,aAArC,mBACA,GADA,UACwBA,mBAAS,CAC/BC,GAAI,UACJC,KAAM,UACNC,KAAM,UACNC,OAAQ,UACRC,MAAO,MALT,mBAAOC,EAAP,KAAaC,EAAb,KAmCA,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMC,GAAI,GAAV,SACE,eAAC,IAAD,WACE,cAAC,IAAD,iCACA,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMA,GAAI,EAAV,SACE,cAAC,IAAD,CACEC,MAAO,IACPC,QAdI,SAACC,GACnBC,QAAQC,MAAMF,IAcAG,OAvCG,SAACC,GACdA,IACFC,IACGC,IADH,UACUC,MADV,qBAC0BH,GAAQ,CAC9BI,QAAS,CACPC,cAAc,UAAD,OACXC,KAAKC,MAAMC,aAAaC,QAAQ,QAAQC,UAI7CC,MAAK,SAACC,GACLpB,EAAQ,CACNN,GAAI0B,EAAOZ,KAAKa,SAASC,IACzB3B,KAAMyB,EAAOZ,KAAKa,SAASE,IAAM,IAAMH,EAAOZ,KAAKa,SAASG,OAC5D5B,KAAMwB,EAAOZ,KAAKa,SAASI,MAC3B5B,OAAQ,UACRC,MAAOsB,EAAOZ,KAAKa,SAASvB,WAG/B4B,OAAM,SAACtB,GAAD,OAASC,QAAQsB,IAAIvB,MAC9BC,QAAQsB,IAAI5B,EAAKD,SAoBL8B,MAAO,CAAEC,OAAQ,IAAKC,MAAO,SAIjC,eAAC,IAAD,WACE,iCACE,cAAC,IAAD,CACEC,SAAO,EACPC,WAAS,EACTC,IAAG,gCAA2BlC,EAAKD,OACnCgC,MAAM,MACND,OAAO,UAGX,uBACA,uBAAOK,UAAU,kCAAjB,SACE,kCACE,+BACE,qCACA,6BACE,iCAASnC,EAAKL,UAGlB,+BACE,sCACA,6BACE,iCAASK,EAAKJ,YAGlB,+BACE,sCACA,6BACE,iCAASI,EAAKH,YAGlB,+BACE,wCACA,6BACE,iCAASG,EAAKF","file":"static/js/13.e9bc6ec1.chunk.js","sourcesContent":["import React, { lazy, useState } from \"react\";\nimport { CRow, CImg, CCol, CCard, CCardBody, CCardHeader } from \"@coreui/react\";\nimport QrReader from \"react-qr-reader\";\nimport { getEmployee } from \"src/Auth\";\nimport { API } from \"src/config\";\nimport axios from \"axios\";\n\nconst Attendance_QR = () => {\n  //   const history = useHistory();\n  const [qrscan, setQrscan] = useState(\"No result\");\n  const [user, setUser] = useState({\n    id: \"no data\",\n    name: \"no data\",\n    role: \"no data\",\n    status: \"no data\",\n    image: \"\",\n  });\n  const handleScan = (data) => {\n    if (data) {\n      axios\n        .get(`${API}/employee/${data}`, {\n          headers: {\n            Authorization: `Bearer ${\n              JSON.parse(localStorage.getItem(\"jwt\")).token\n            }`,\n          },\n        })\n        .then((result) => {\n          setUser({\n            id: result.data.employee._id,\n            name: result.data.employee.nom + \" \" + result.data.employee.prenom,\n            role: result.data.employee.poste,\n            status: \"not yet\",\n            image: result.data.employee.image,\n          });\n        })\n        .catch((err) => console.log(err));\n      console.log(user.image);\n      // setQrscan(data);\n    }\n  };\n  const handleError = (err) => {\n    console.error(err);\n  };\n\n  return (\n    <CRow>\n      <CCol lg={12}>\n        <CCard>\n          <CCardHeader>Scan Employee Card</CCardHeader>\n          <CCardBody>\n            <CRow>\n              <CCol lg={4}>\n                <QrReader\n                  delay={300}\n                  onError={handleError}\n                  onScan={handleScan}\n                  style={{ height: 240, width: 320 }}\n                />\n              </CCol>\n\n              <CCol>\n                <center>\n                  <CImg\n                    rounded\n                    thumbnail\n                    src={`data:image/png;base64,${user.image}`}\n                    width=\"150\"\n                    height=\"150\"\n                  />\n                </center>\n                <br />\n                <table className=\"table table-striped table-hover\">\n                  <tbody>\n                    <tr>\n                      <td>id:</td>\n                      <td>\n                        <strong>{user.id}</strong>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>name</td>\n                      <td>\n                        <strong>{user.name}</strong>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>role</td>\n                      <td>\n                        <strong>{user.role}</strong>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>status</td>\n                      <td>\n                        <strong>{user.status}</strong>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </CCol>\n            </CRow>\n          </CCardBody>\n        </CCard>\n      </CCol>\n    </CRow>\n  );\n};\n\nexport default Attendance_QR;\n"],"sourceRoot":""}